# Facilitator Technical Manual

As a _MTL_ Facilitator, the following chapters will help answer any technical questions you may have when preparing for your team's live session.

<img src="https://raw.githubusercontent.com/lzim/teampsd/b18320cdba8e0e4392d5c732785889b64efffb7e/resources/logos/mtl_how_facilitate.svg" height="175px" width='290px'/>

## Facilitator Maps

- [**_MTL_ Blue**](https://github.com/lzim/mtl/tree/master/blue/session01/s01_facilitator/mtl_blue_facilitator_map.md) 

- [**_MTL_ Red**](https://github.com/lzim/mtl/tree/master/red/part1/part1_facilitator/mtl_red_facilitator_map.md)

### CPT Code Cheatsheet

- [CPT Code Cheatsheet](https://github.com/lzim/mtl/blob/master/blue/session02/s02_resources/cptcode_cheatsheet.pdf)

### _MTL_ 3.0 Data Cheatsheet

- [MTL_ 3.0 Data Cheatsheet](https://github.com/lzim/mtl/blob/master/blue/session02/s02_resources/mtl_how_3.0_data_cheatsheet.pdf)
 
### Sim UI Cheatsheet

- [Sim UI Cheatsheet](https://github.com/lzim/mtl/tree/master/blue/session05/s05_learner)

## Facilitator Self-Registration

This section describes how a facilitator can self-register for an account in the Sim UI. The facilitator need only provide basic information and a VA email address to start the process. Once the registration form is completed, a notice will be sent to an approver and the facilitator will be notified by email they now have access to the facilitator dashboard.  See the next section for information on how to use the dashboard to manage an _MTL_ team.

1.  Go to [mtl.how/facilitate](mtl.how/facilitate) in your Edge, Firefox or Chrome browser.
2.  Complete the form as shown below and click "Register."

<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/fac_registration_form.png?raw=true">

3. After your registration request is reviewed and approved, an approval email will be sent to your VA address that contains login information. 

## Sim UI Facilitator Dashboard

This section explains how to use the Facilitator Dashboard to set up and manage teams.  It also explains how to access mtl.how/menu and set up Team Time (tt) report content. Below is an orientation to the Dashboard.

<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/dashboard_overview.png?raw=true">

1. **Tutor** - Click for a guided tour of page features.
2. **tt Admin** - Use this button to set up the contents that will show in the tt1-3 reports. See the section on tt admin below.
3. **Team Setup** - Click to set up a team. It provides team setup input screens and a means to load Team Data. See the section on team setup below.
4. **Team Statistics** - Lists experiments, when they started and ended, total time-on-task, team size, attendance percentage and completion percentage.
5. **Team Roster** - Lists team members, their clinical role and team role.
6. **_MTL_ Manual** - Click to open a comprehensive program and technical guide about _Modeling to Learn_.
7. **Home** - Click to go to the selected teams' home page. 
8. **Go to Current Session** - Click to access the teams' current session. If the "Go to Current Session" button is washed out, there is no current session.
9. **Select Team** - Use this dropdown to select your desired team. It will enable you to monitor their experiments.
10. **Gauges** - This indicates the teams' progress with a selected experiment. Teams receive 20% completion for a minimum 50 characters input for each of the Question, Hypothesis, Findings, Decisions fields and another 20% for running the experiment. 
11. **Select Experiment** - Use this dropdown to select the desired experiment to monitor. An experiment will not show in this dropdown until it has been named and saved.
12. **Manage Multiple Teams** - Select additional teams to monitor using this dropdown. 
13. **ADD TEAM** - Click to add an unlimited number of teams to the dashboard. 

## Set Up a Team

This section describes how a facilitator can set up a team manually, or use a Customer Management System (CMS) export to set up a team. **Team setup normally occurs by the end of _MTL_ Session 2, so the learners can access mtl.how/menu.**

### Manual Setup

1. Click the "Add" button. A Team Setup popup will appear.  **The Team Setup will not list all teams in Epicenter. It will only list teams assigned to the facilitator.**
<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/team_setup_overview.png?raw=true">

2. Add the team name.  Just add the teams' root name. The setup function will add "team" and "ind" extensions in Epicenter.
3. Type the teams' vision statement.
4. Select the Research Arm.
5. Click "Add" button to add a team member. A Add Team Members popup will appear. **Facilitators do not need to register with the team, because the system will automatically assign based on the login. However, a co-facilitator would have to be listed and assigned to the facilitator role.**

<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/add_team_pop_up.png?raw=true">

6. Enter First Name, Last Name, Email and Clinical Role information.
7. Use the Select Role to select team members' role on the team.
8. Click "Add" button.
9. Click the checkbox next to a name and "Edit" or "Delete" to update information or delete a team member.
10. Click "Done" button when finished.

<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/add_team_member_popup.png?raw=true">

## Review tt Menu Results

If you are a Facilitator, use your login to access the facilitator tools to access multiple teamâ€™s menu results. The system knows you are a facilitator based on your user id and will present the facilitator popup. From the popup, you can review the results of multiple teams.

1. Navigate to mtl.how/menu.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/menu_url.png?raw=true">

2. Enter login information and click "Start Survey."

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/menu_login.png?raw=true">

3. Select the team from whom you want to view results from the dropdown (you may monitor three teams simultaneously).

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/menu_select_team.png?raw=true">

4. Click "Review Results" icon to the results of the team's mtl.how/menu responses.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/menu_results.png?raw=true">

5. Click "PDF" icon to download a PDF file of the report.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/menu_PDF.png?raw=true">

6. Click "Open file" to see results in PDF format.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/menu_download.png?raw=true">

## Set up a Facilitator Individual Team (_ind)

- Facilitators can go into any team session where they are listed as a facilitator.
- The Sim UI uses that listing to build the Select Team dropdown in the Facilitator Dashboard.
- A Facilitator cannot be assigned a world using the same alias, so a workaround is needed.
- The procedure below will explain how to use an additional alias to create and access a personal individual team.
- After following the procedure, your individual \_ind will be on your dropdown list.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/nav_to_team_setup.png?raw=true">

1. Navigate to Team Setup

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/select_ind_team.png?raw=true">

2. Select desired \_ind\_team from Team Setup listing and click Edit.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/add_ind.png?raw=true">

3. In the Edit Team Setup popup click Add.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/enter_ind_alias.png?raw=true">

4. In the Add Team Members popup, enter your first name, last name, select Team Lead in Select Role dropdown, enter your name (example: James Rollins) again in the Enter Email field and enter your Clinical Role.  Click Add, then Done.  Your name is now your alternate alias to be used for _ind teams.

5. Be sure to note the alias under the Email column, this will appear in the Team dropdown in the Facilitator Dashboard.

 ## Download Team Data and Name File for Import to Sim UI

- A facilitator must follow certain naming conventions, which are explained below, when downloading Team Data files.
- When a Team Data file is downloaded, it is in a specific format that the Sim UI **reformats during upload.** This means that if a Team Data file is downloaded from the Sim UI and then re-uploaded to the Sim UI **it will not work!**
- The facilitator will be able assign the team data to various teams of their choice from the Facilitator Dashboard in the Sim UI. See next section.

1. Type [mtl.how/data](mtl.how/data) into your Chrome, Edge, Safari or Firefox browser.
  
 <image src = "https://github.com/lzim/mtl/blob/gh-pages/images/mtl_data_nav.png?raw=true">

2. Navigate to the desired Region and VISN.

 <image src = "https://github.com/lzim/mtl/blob/gh-pages/images/mtl_data_visn_nav.png?raw=true">

3. Select and apply clinical and/or team flow data.

 <image src = "https://github.com/lzim/mtl/blob/gh-pages/images/mtl_data_select_data.png?raw=true">

4. In left hand navigation, scroll down to "Team Data for SimUI" and click.

 <image src = "https://github.com/lzim/mtl/blob/gh-pages/images/mtl_data_nav_team_data_1.png?raw=true">

5. After the file builds, click on the elipses on the right side and click "Export data." Select default "Data with current layout" and click "Export."

 <image src = "https://github.com/lzim/mtl/blob/gh-pages/images/mtl_data_export_team_data_1.png?raw=true">

 <image src = "https://github.com/lzim/mtl/blob/gh-pages/images/mtl_data_export_team_data_2.png?raw=true">
 
6. The Team Data file is exported to your browser's download location. Open file location and rename file using the convention "Sta3n-number_geo-location_clinic_year_month_day."

 <image src = "https://github.com/lzim/mtl/blob/gh-pages/images/mtl_data_file_name.png?raw=true">

7. Upload data into Sim UI.

## Manage Team Data

1. In the Facilitator Dashboard, click on Team Setup in the middle right-hand side of the dashboard.

<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/nav_to_team_setup.png?raw=true">

2. Click the "Add" button to add a new team data file and select the Individual (Ind), Team, and Shared worlds that the file needs to be uploaded to.

<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/manage_team_data.png?raw=true">
 
3. A "Select Worlds" popup will appear.  Select the worlds, within which, the team data will appear. When finished, click "Done."
 
<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/fac_db_select_worlds.png?raw=true">
 
4. The File Manager will appear, go to the desired file location and click on the file.

<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/select_file_popup.png?raw=true">

5. Click "Open" to upload the file.

**Please Note.**

- The upload routine must update multiple GitHub repositories and Epicenter, which may take a few minutes. If the file does not appear, try clicking the "Refresh" button.
- **Do not attempt to upload Team Data file directly to Epicenter,** since the GitHub repository will overwrite the files on the next update and they will not work when you try to access them from the Sim UI.
   
## Produce team_time report

This section explains how to use the Facilitator Dashboard to set up and manage team time (tt) reports.

### Set up a Blue tt Report
   
- The tt Reports popup allows you to select your team, select experiments to display and the specific charts you want to display in the report.
- For the Psychotherapy Module, Sankey charts are displayed by default.
- Psychotherapy charts active in the Sim UI Team Data Table are also active in the tt report Team Data Table.
- A team can have only **one** module at a time displayed on the tt report.
- If you choose a different module, it will re-render the tt report page to the selected module.

1. Select tt Admin from the Facilitator Dashboard. The tt Reports popup will appear.
    
- tt 1 Report: If you are producing the 1st tt report, skip to step 5 by signing into [mtl.how/menu](https://mtl.how/menu). See **Managing tt Menu Results** section above for more information.
    
<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/select_tt_admin.png?raw=true">

2. Select your team and the module they are using from the dropdowns.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/tt_select_tm_mod.png?raw=true">

- tt 3 Report: If you are producing the last tt report, check the tt3 box.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/tt_select_tt3.png?raw=true">
  
3. Experiments should populate under the Select Experiments section with the teams' saved experiments. Select your desired experiments. Checked experiments will appear in the Display list. If you are changing experiments only, be sure to scroll down and click and click the Save button.

- **Regardless of the list order, experiments will be displayed oldest to newest in the tt report.**
- You can select up to 10 experiments for comparison.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/tt_add_experiments.png?raw=true">

4. Under Select Reports, check the boxes of charts you want to display. Selected charts will appear on the Display list to the right. Click Save when done.
    
- **The charts will display in order of appearance on the list in the tt report.**

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/tt_select_reports.png?raw=true">

5. Sign into [mtl.how/menu](https://mtl.how/menu) and select your team. Click on the PDF icon on the upper right hand side of the page to download an export of your tt report.
    
- The page will load for a few seconds before giving you an option to download your report by clicking Save As.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/menu_PDF.png?raw=true">

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/menu_download.png?raw=true">

### Set up a Red TT Report

- The NIH-Red tt report only contains team data. **Do not select charts to display.**
- Team data cannot be read directly, it must be converted to an experiment.
- There is a special button in the Team Setup popup for the team data to experiment conversion.
- The team data file must be uploaded before using this procedure.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/nav_to_team_setup.png?raw=true">

1. Select Team Setup from the Facilitator Dashboard. The Set Setup popup will appear.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/select_tdata_add_to_tt.png?raw=true">

2. Select the team data file you want to use in the Red tt report and click the Add to tt button.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/select_module_tt_red.png?raw=true">

3. Select the desired model.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/select_team_tt_red.png?raw=true">

4. Select the desired team from the dropdown and click Done.

<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/select_tt_admin.png?raw=true">

5. Close the Team Setup popup and click on the tt Admin button.  The tt Admin popup will appear.

<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/setup_tt_red.png?raw=true">

6. Select the desired team and modules from the dropdowns. Select the tt red experiment to display in the teams' report.

<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/tt_reports_done.png?raw=true">

9. Scroll down and click Save.

10. Sign into [mtl.how/menu](https://mtl.how/menu) and select your team. Click on the PDF icon on the upper right hand side of the page to download an export of your tt report.

    - The page will load for a few seconds before giving you an option to download your report by clicking Save As.

 <image src = "https://github.com/lzim/mtl/blob/gh-pages/images/menu_PDF.png?raw=true">

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/menu_download.png?raw=true">

## Manage Discussions in Team

- The Team button in the top navigation is for texting and maintaining private discussion threads with one or more individuals and open discussion threads with teams.
- A person can chat with one or more people using the Team function by inputting the end user name (usually the va.gov email address) of the person or people they want to address.
- A person can chat with with an entire team at once, provided they are a registered end user in that team.

### Set up a Private Conversation
  
<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/select_team.png?raw=true">

1. Click "Team" to open the chat popup. 

<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/private_chat.png?raw=true">

2. Click Chat in the left-hand navigation to private-text an individual. The latest conversation will appear in the Chat Log, followed the the next recent. The discussion thread appears in the Conversation window.

<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/private_chat_2.png?raw=true">

3. To continue a conversation, type a new message in the message line at the bottom of the window. Click the send icon to post the chat.

<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/new_private_chat.png?raw=true">

4. To start a conversation with one or more new people, click the New icon and enter their user name and click Add.  Type a new message and click send.

### Set up an Open Team Discussion

<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/team_navigation.png?raw=true">

1. Click on the Team icon in the left hand navigation. **Note how the icon has a red circle indicating there are 2 chats waiting.**

<img src = "https://github.com/lzim/mtl/blob/gh-pages/images/team_listing.png?raw=true">

2. The Teams listing will contain a list of all teams the individual is a registered end user (see blue-green highlight). A boldface team indicates a chat is waiting. **Note the listing contains _ind teams. These are teams where users are assigned an individual world with which to experiment. However, any discussions held in this thread will be visible by all registered users from their different worlds.**  To have a private chat with an individual, see Set up a Private Conversation above.

## Resize a Window for Side-by-Side Viewing
 
- A facilitator may need to show two items on the screen side-by-side for comparison.
- The Sim UI has a responsive design that should accommodate many resolutions and browser window sizes.
- Follow the steps below to get the best view.
 
 <image src = "https://github.com/lzim/mtl/blob/gh-pages/images/window_view_click.png?raw=true">
 
 1. Click the "window" icon in the upper right of the browser window.
 
 <image src = "https://github.com/lzim/mtl/blob/gh-pages/images/drag_window.png?raw=true">
 
 2. Drag the browser window to the desired size. **Notice how the Sim UI design responds by stacking menu icon.**
 
 <image src = "https://github.com/lzim/mtl/blob/gh-pages/images/refreshwindow.png?raw=true">
 
 3. Sometimes items on the screen are cutoff or not formatted correctly.  Click the refresh button so the browser can detect the new window size and adjust the format.
 
 <image src = "https://github.com/lzim/mtl/blob/gh-pages/images/zoom_window.png?raw=true">
 
 4. If the format is still not optimum, decrease the zoom below 100% to reduce the size of the items on the screen, or drag the screen slightly larger.
 
## Report a Bug

- There are two ways to report a bug; through the Sim UI and directly into GitHub.
- One must have access to either the Sim UI or GitHub in order to report a bug.

### Report a bug through the Sim UI

1. From the Home Page or from the Play Page  - Click on the "Report Bug" icon.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/bug_click_icon.png?raw=true">

2. Describe the issue in the field provided (please be detailed as possible). If you have a screenshot you want to share, click the checkbox.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/bug_describe_issue.png?raw=true">

3. Click "Submit" when finished. If you clicked the screenshot checkbox, an additional dialogue will appear to help you upload your picture. **Be sure there are no PII in the screenshot!** Click "Submit" again when finished. The Sim UI will report the bug automatically to GitHub.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/bug_screenshot_upload.png?raw=true">

### Report a bug directly in GitHub

1. To report a bug directly in GitHub, navigate to [mtl.how/teampsd](mtl.how/teampsd) to get started.  The page below should appear. If not signed in, sign in. Then click "issues" tab.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/bug_nav_github.png?raw=true">

2. Click "New Issue" button.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/bug_nav_issues.png?raw=true">

3. Click "Get Started" in the "Issue" swimlane.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/bug_select_issue.png?raw=true">

4. Complete Issue Form.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/bug_issue_form.png?raw=true">

5. Route the form to the "bug_tracker" project for action by Team PSD. Be sure to check the "bug_tracker" is listed under "Projects" (see second screenshot below).
 
<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/bug_issue_route.png?raw=true">

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/bug_issue_route_check.png?raw=true">

6. Click "Submit new issue" button.

<image src = "https://github.com/lzim/mtl/blob/gh-pages/images/bug_issue_submit.png?raw=true">
